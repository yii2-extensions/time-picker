/*! bootstrap-timepicker v0.2.3 
 * Improvements by: Kartik Visweswaran, Krajee.com, 2014 - 2021
 * - Stefano Mtangoo<mwinjilisti@gmail.com> and contributors, 2024 - 
 * http://jdewit.github.com/bootstrap-timepicker
 * Copyright (c) 2013 Joris de Wit
 * MIT License
 !function(n,s){"use strict";function o(t,i){this.widget="",this.$element=n(t),this.defaultTime=i.defaultTime,this.disableFocus=i.disableFocus,this.isOpen=i.isOpen,this.minuteStep=i.minuteStep,this.modalBackdrop=i.modalBackdrop,this.secondStep=i.secondStep,this.showInputs=i.showInputs,this.showMeridian=i.showMeridian,this.showSeconds=i.showSeconds,this.template=i.template,this.appendWidgetTo=i.appendWidgetTo,this.upArrowStyle=i.upArrowStyle,this.downArrowStyle=i.downArrowStyle,this.containerClass=i.containerClass,this._init()}o.prototype={constructor:o,_init:function(){var t=this;this.$element.parent().hasClass("bootstrap-timepicker")?((this.$element.parent(".bootstrap-timepicker").find(".picker").length?this.$element.parent(".bootstrap-timepicker").find(".picker"):this.$element.closest(this.containerClass).find(".input-group-addon")).on({"click.timepicker":n.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":n.proxy(this.highlightUnit,this),"click.timepicker":n.proxy(this.highlightUnit,this),"keydown.timepicker":n.proxy(this.elementKeydown,this),"blur.timepicker":n.proxy(this.blurElement,this)})):this.template?this.$element.on({"focus.timepicker":n.proxy(this.showWidget,this),"click.timepicker":n.proxy(this.showWidget,this),"blur.timepicker":n.proxy(this.blurElement,this)}):this.$element.on({"focus.timepicker":n.proxy(this.highlightUnit,this),"click.timepicker":n.proxy(this.highlightUnit,this),"keydown.timepicker":n.proxy(this.elementKeydown,this),"blur.timepicker":n.proxy(this.blurElement,this)}),!1!==this.template?this.$widget=n(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",n.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){n(this).on({"click.timepicker":function(){n(this).select()},"keydown.timepicker":n.proxy(t.widgetKeydown,t)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=void 0,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0===this.hour?this.hour=23:this.hour--;this.update()},decrementMinute:function(t){t=t?this.minute-t:this.minute-this.minuteStep;t<0?(this.decrementHour(),this.minute=t+60):this.minute=t,this.update()},decrementSecond:function(){var t=this.second-this.secondStep;t<0?(this.decrementMinute(!0),this.second=60+t):this.second=t,this.update()},elementKeydown:function(t){switch(t.keyCode){case 9:switch(this.updateFromElementVal(),this.highlightedUnit){case"hour":t.preventDefault(),this.highlightNextUnit();break;case"minute":(this.showMeridian||this.showSeconds)&&(t.preventDefault(),this.highlightNextUnit());break;case"second":this.showMeridian&&(t.preventDefault(),this.highlightNextUnit())}break;case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}break;case 39:t.preventDefault(),this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}}},formatTime:function(t,i,e,s){return e=e<10?"0"+e:e,(t=t<10?"0"+t:t)+":"+(i=i<10?"0"+i:i)+(this.showSeconds?":"+e:"")+(this.showMeridian?" "+s:"")},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(s.selection){t.focus();var i=s.selection.createRange(),e=s.selection.createRange().text.length;return i.moveStart("character",-t.value.length),i.text.length-e}},getTemplate:function(){var t,i,e,s,h=this.showInputs?(i='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>',e='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>',s='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>','<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'):(i='<span class="bootstrap-timepicker-hour"></span>',e='<span class="bootstrap-timepicker-minute"></span>',s='<span class="bootstrap-timepicker-second"></span>','<span class="bootstrap-timepicker-meridian"></span>'),n='<table><tr><td><a href="#" data-action="incrementHour"><i class="'+this.upArrowStyle+'"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="'+this.upArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+"</tr><tr><td>"+i+'</td> <td class="separator">:</td><td>'+e+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+s+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+h+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="'+this.downArrowStyle+'"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="'+this.downArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+"</tr></table>";switch(this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">Ã—</a><h3>Pick a Time</h3></div><div class="modal-content">'+n+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+n+"</div>"}return t},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){!1!==this.isOpen&&(this.showInputs&&this.updateFromWidgetInputs(),this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),n(s).off("mousedown.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),0<=this.position&&this.position<=2?this.highlightHour():3<=this.position&&this.position<=5?this.highlightMinute():6<=this.position&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():9<=this.position&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0);this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0);this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0);this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0);this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.setSelectionRange(9,11)},0):setTimeout(function(){t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}23!==this.hour?(this.hour++,this.update()):this.hour=0},incrementMinute:function(t){t=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep;59<t?(this.incrementHour(),this.minute=t-60):this.minute=t,this.update()},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;59<t?(this.incrementMinute(!0),this.second=t-60):this.second=t,this.update()},remove:function(){n("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){var i,e,s,h;this.$element.val()?this.updateFromElementVal():"current"===t?(i=(h=new Date).getHours(),e=Math.floor(h.getMinutes()/this.minuteStep)*this.minuteStep,s=Math.floor(h.getSeconds()/this.secondStep)*this.secondStep,h="AM",this.showMeridian&&(0===i?i=12:h=12<=i?(12<i&&(i-=12),"PM"):"AM"),this.hour=i,this.minute=e,this.second=s,this.meridian=h,this.update(!0)):!1===t?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,i){if(t){var e,s,h,n,o;if("object"==typeof t&&t.getMonth)s=t.getHours(),h=t.getMinutes(),n=t.getSeconds(),this.showMeridian&&(o="AM",12<s&&(o="PM",s%=12),12===s&&(o="PM"));else{if(2<(e=(/a/i.test(t)?1:0)+(/p/i.test(t)?2:0)))return void this.clear();if(s=((t=t.replace(/[^0-9\:]/g,"").split(":"))[0]||t).toString(),this.explicitMode&&2<s.length&&s.length%2!=0)return void this.clear();h=t[1]?t[1].toString():"",n=t[2]?t[2].toString():"",4<s.length&&(n=s.slice(-2),s=s.slice(0,-2)),2<s.length&&(h=s.slice(-2),s=s.slice(0,-2)),2<h.length&&(n=h.slice(-2),h=h.slice(0,-2)),s=parseInt(s,10),h=parseInt(h,10),n=parseInt(n,10),isNaN(s)&&(s=0),isNaN(h)&&(h=0),isNaN(n)&&(n=0),59<n&&(n=59),59<h&&(h=59),s>=this.maxHours&&(s=this.maxHours-1),this.showMeridian?(12<s&&(e=2,s-=12),0===s&&(s=12),o=1===(e=e||1)?"AM":"PM"):s<12&&2===e?s+=12:s>=this.maxHours?s=this.maxHours-1:(s<0||12===s&&1===e)&&(s=0)}this.hour=s,this.snapToStep?(this.minute=this.changeToNearestStep(h,this.minuteStep),this.second=this.changeToNearestStep(n,this.secondStep)):(this.minute=h,this.second=n),this.meridian=o,this.update(i)}else this.clear()},showWidget:function(){var i;this.isOpen||this.$element.is(":disabled")||(i=this,n(s).on("mousedown.timepicker",function(t){0===n(t.target).closest(".bootstrap-timepicker-widget").length&&i.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.updateFromElementVal(),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",n.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM",this.update()},update:function(t){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.updateElement(t),this.updateWidget()},updateElement:function(t){var i=this.$element;i.val(this.getTime()),t||i.change()},updateFromElementVal:function(){var t=this.$element.val();t&&this.setTime(t)},updateWidget:function(){var t,i,e;!1!==this.$widget&&(t=this.hour<10?"0"+this.hour:this.hour,i=this.minute<10?"0"+this.minute:this.minute,e=this.second<10?"0"+this.second:this.second,this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(i),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(e),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(i),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(e),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian)))},updateFromWidgetInputs:function(){var t;!1!==this.$widget&&(t=n("input.bootstrap-timepicker-hour",this.$widget).val()+":"+n("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+n("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+n("input.bootstrap-timepicker-meridian",this.$widget).val():""),this.setTime(t))},widgetClick:function(t){t.stopPropagation(),t.preventDefault();t=n(t.target).closest("a").data("action");t&&this[t]()},widgetKeydown:function(t){var i=n(t.target).closest("input").attr("name");switch(t.keyCode){case 9:if(this.showMeridian){if("meridian"===i)return this.hideWidget()}else if(this.showSeconds){if("second"===i)return this.hideWidget()}else if("minute"===i)return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:switch(t.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}break;case 40:switch(t.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}}}},n.fn.timepicker=function(s){var h=Array.apply(null,arguments);return h.shift(),this.each(function(){var t=n(this),i=t.data("timepicker"),e="object"==typeof s&&s;i||t.data("timepicker",i=new o(this,n.extend({},n.fn.timepicker.defaults,e,n(this).data()))),"string"==typeof s&&i[s].apply(i,h)})},n.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker",upArrowStyle:"glyphicon glyphicon-chevron-up",downArrowStyle:"glyphicon glyphicon-chevron-down",containerClass:"bootstrap-timepicker"},n.fn.timepicker.Constructor=o}(jQuery,(window,document));